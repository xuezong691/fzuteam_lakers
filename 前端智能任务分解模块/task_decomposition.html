<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>智能任务分解</title>
    <link rel="stylesheet" href="task_decomposition.css">
</head>
<body>
    <div class="task-decomposition-container">
        <h2>智能任务分解</h2>
        
        <!-- 任务输入表单 -->
        <div class="input-section">
            <h3>任务信息输入</h3>
            <form id="taskInputForm" class="task-form">
                <div class="form-group">
                    <label for="taskType">任务类型 *</label>
                    <select id="taskType" required>
                        <option value="">请选择任务类型</option>
                        <option value="software">软件开发</option>
                        <option value="ppt">PPT制作</option>
                        <option value="research">研究项目</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="background">项目背景和动机 *</label>
                    <textarea id="background" rows="3" required placeholder="请输入项目背景和动机..."></textarea>
                </div>

                <div class="form-group">
                    <label for="finalDeliverable">最终交付成果 *</label>
                    <textarea id="finalDeliverable" rows="3" required placeholder="请输入最终要交付的具体成果..."></textarea>
                </div>

<div class="form-group">
    <label for="deadline">截止日期 *</label>
    <input type="text" id="deadline" required 
           placeholder="支持格式：2024-12-31, 2024/12/31, 20241231">
    <small class="date-hint">请输入日期，支持 YYYY-MM-DD、YYYY/MM/DD 等格式</small>
</div>

                <div class="form-group">
                    <label>技术工具</label>
                    <div class="tech-tools-container" id="techToolsContainer">
                        <!-- 技术工具选项将通过JS动态生成 -->
                    </div>
                </div>

                <div class="form-group">
                    <label>质量要求</label>
                    <div class="criteria-section">
                        <div class="criteria-group">
                            <label>必须满足的要求</label>
                            <div id="mustHaveContainer" class="criteria-items">
                                <div class="criteria-item">
                                    <input type="text" class="criteria-input" placeholder="添加必须满足的要求">
                                    <button type="button" class="add-criteria" onclick="addCriteria('mustHave')">+</button>
                                </div>
                            </div>
                        </div>
                        <div class="criteria-group">
                            <label>可选优化</label>
                            <div id="niceToHaveContainer" class="criteria-items">
                                <div class="criteria-item">
                                    <input type="text" class="criteria-input" placeholder="添加可选优化">
                                    <button type="button" class="add-criteria" onclick="addCriteria('niceToHave')">+</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label>约束条件</label>
                    <div class="constraints-section">
                        <div class="constraint-group">
                            <label>禁止事项</label>
                            <div id="forbiddenContainer" class="constraint-items">
                                <div class="constraint-item">
                                    <input type="text" class="constraint-input" placeholder="添加禁止事项">
                                    <button type="button" class="add-constraint" onclick="addConstraint('forbidden')">+</button>
                                </div>
                            </div>
                        </div>
                        <div class="constraint-group">
                            <label>前提假设</label>
                            <div id="assumptionsContainer" class="constraint-items">
                                <div class="constraint-item">
                                    <input type="text" class="constraint-input" placeholder="添加前提假设">
                                    <button type="button" class="add-constraint" onclick="addConstraint('assumptions')">+</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label>成功指标 *</label>
                    <div id="successMetricsContainer" class="success-metrics">
                        <div class="metric-item">
                            <input type="text" class="metric-input" placeholder="至少添加一项成功指标" required>
                            <button type="button" class="add-metric" onclick="addMetric()">+</button>
                        </div>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="button" id="generateTaskBtn" class="btn btn-primary">生成任务</button>
                </div>
            </form>
        </div>

        <!-- 结果显示区域 -->
        <div class="result-section">
            <h3>任务分解结果</h3>
            <div id="taskResult" class="task-result" style="display: none;">
                <div class="result-header">
                    <h4>生成的任务列表</h4>
                    <button type="button" id="matchTaskBtn" class="btn btn-secondary">智能任务匹配</button>
                </div>
                <div id="taskCards" class="task-cards">
                    <!-- 任务卡片将通过JS动态生成 -->
                </div>
            </div>

            <div id="matchResult" class="match-result" style="display: none;">
                <h4>任务匹配结果</h4>
                <div id="matchCards" class="match-cards">
                    <!-- 匹配结果卡片将通过JS动态生成 -->
                </div>
            </div>
        </div>
    </div>

    <script src="task_decomposition.js"></script>
</body>
</html>