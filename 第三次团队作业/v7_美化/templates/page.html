<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ç³»ç»Ÿä¸»ç•Œé¢</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='team.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='todotask.css') }}">
  <!-- å¼•å…¥AIèŠå¤©æ¨¡å—çš„CSSæ ·å¼ -->
  <link rel="stylesheet" href="{{ url_for('static', filename='ai-chat.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='task_decomposition.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='meeting.css') }}">
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: "Segoe UI", "Microsoft YaHei", sans-serif;
    }

    body {
      display: flex;
      min-height: 100vh;
      background-color: #f8f9fa;
    }


    .nav-links li i {
      font-size: 18px;
      width: 24px;
      text-align: center;
    }

    /* ========== ä¸»å†…å®¹åŒº ========== */
    .main-content {
      flex: 1;
      margin-left: 240px;
      padding: 30px;
      background: #ffffff;
    }

    .page {
      display: none;
      animation: fadeIn 0.4s ease-in-out;
    }

    .page.active {
      display: block;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    h2 {
      margin-bottom: 20px;
      color: #2c3e50;
    }

    .page-content {
      background: #f8f9fa;
      padding: 20px;
      border-radius: 8px;
      min-height: 500px;
    }

    /* å“åº”å¼ï¼šå°å±éšè—ä¾§è¾¹æ ï¼ˆå¯é€‰ï¼‰ */
    @media (max-width: 768px) {
      .sidebar {
        width: 70px;
      }
      .sidebar .logo span,
      .sidebar .nav-links li span {
        display: none;
      }
      .main-content {
        margin-left: 70px;
      }
    }
  </style>
<style>
  .text-shadow-sm {
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
  }
</style>
</head>
<body class="flex min-h-screen bg-gray-50">
        <!-- å·¦ä¾§å¯¼èˆªæ  - æ¸…æ–°è“ç™½é£æ ¼ -->
        <div class="sidebar w-60 bg-white border-r border-gray-200 fixed h-screen flex flex-col shadow-sm">
          <div class="logo-container p-5 border-b border-gray-100">
            <div class="logo flex items-center gap-2.5 text-xl font-bold text-blue-600">
              <span>ä½ å¥½ï¼å°åŠåŒå­¦</span>
            </div>
          </div>

          <ul class="nav-links py-4 space-y-1" id="navLinks">
            <li data-page="dashboard" class="active px-6 py-3 cursor-pointer flex items-center gap-3 rounded-lg text-blue-600 bg-blue-50 font-medium">
              <span>ğŸ’¡</span>
              <span>AIèŠå¤©</span>
            </li>
            <li data-page="meeting" class="px-6 py-3 cursor-pointer flex items-center gap-3 rounded-lg text-gray-700 hover:bg-gray-100 hover:text-blue-600 transition-colors">
              <span>ğŸ“„</span>
              <span>ä¼šè®®åŠ©æ‰‹</span>
            </li>
            <li data-page="data" class="px-6 py-3 cursor-pointer flex items-center gap-3 rounded-lg text-gray-700 hover:bg-gray-100 hover:text-blue-600 transition-colors">
              <span>ğŸ§‘â€ğŸ’¼</span>
              <span>æˆå‘˜æ•°æ®</span>
            </li>
            <li data-page="task_generater" class="px-6 py-3 cursor-pointer flex items-center gap-3 rounded-lg text-gray-700 hover:bg-gray-100 hover:text-blue-600 transition-colors">
              <span>ğŸ§©</span>
              <span>æ™ºèƒ½ä»»åŠ¡</span>
            </li>
            <li data-page="todotask" class="px-6 py-3 cursor-pointer flex items-center gap-3 rounded-lg text-gray-700 hover:bg-gray-100 hover:text-blue-600 transition-colors">
              <span>ğŸ“</span>
              <span>äº‹é¡¹çœ‹æ¿</span>
            </li>
          </ul>

          <div class="team-name-display mt-auto mb-5 text-center text-sm font-semibold text-gray-600 px-4" id="teamNameDisplay"></div>
        </div>

  <!-- å³ä¾§å†…å®¹åŒº -->
  <div class="main-content ml-60 p-6">
    <!-- AIèŠå¤©æ¨¡å— - æ·»åŠ å®Œæ•´çš„å¯¹è¯ç•Œé¢ -->
    <div class="page active" id="page-dashboard">
      <h2>ğŸ’¡ æ¥å’Œå¤§æ¨¡å‹èŠå¤©</h2>
      <div class="page-content">
        <div class="ai-chat-container">
          <div class="ai-chat-header">
            <h3>å°åŠåŒå­¦</h3>
            <button type="button" id="clearChatBtn" class="ai-chat-clear-btn">æ¸…ç©ºè®°å½•</button>
          </div>
          <div id="chatMessages" class="ai-chat-messages"></div>
          <form id="chatForm" class="ai-chat-input-area">
            <input
              type="text"
              id="chatInput"
              class="ai-chat-input"
              placeholder="è¾“å…¥æ‚¨çš„é—®é¢˜..."
              autocomplete="off"
              required
            />
            <button type="submit" class="ai-chat-send-btn">å‘é€</button>
          </form>
        </div>
      </div>
    </div>

    <!-- å›¢é˜Ÿæˆå‘˜ -->
    <div class="page" id="page-data">
      <!-- å›¢é˜Ÿç®¡ç†æ¨¡å— -->
      <!-- å›¢é˜Ÿç®¡ç†æ¨¡å— -->
        <div class="team-management">
          <h2>ğŸ§‘ ğŸ’¼ æˆå‘˜æ•°æ®</h2>
          <p>å›¢é˜Ÿæˆå‘˜ç®¡ç†</p>

          <div class="member-controls">
            <button id="btnRefreshMembers" class="btn-primary">åˆ·æ–°æˆå‘˜</button>
          </div>

          <div id="memberBoard" class="member-board">
            <!-- æˆå‘˜å¡ç‰‡å°†åœ¨è¿™é‡ŒåŠ¨æ€æ¸²æŸ“ -->
          </div>

          <div class="add-member-form">
            <h3>æ·»åŠ æ–°æˆå‘˜</h3>
            <form id="memberForm">
              <div class="form-group">
                <label for="memberName">å§“å:</label>
                <input type="text" id="memberName" required placeholder="è¯·è¾“å…¥æˆå‘˜å§“å">
              </div>
              <div class="form-group">
                <label for="memberTechStack">æŠ€æœ¯æ ˆ (ç”¨é€—å·åˆ†éš”):</label>
                <input type="text" id="memberTechStack" placeholder="ä¾‹å¦‚: JavaScript, Python, SQL">
              </div>
              <button type="submit" class="btn-primary">æ·»åŠ æˆå‘˜</button>
            </form>
          </div>
        </div>
    </div>

    <!-- ä¼šè®®åŠ©æ‰‹ -->
    <div class="page" id="page-meeting">
      <h2>ğŸ“„ ä¼šè®®è¯­è¨€è½¬æ–‡å­—ã€ä¸€é”®ç”Ÿæˆæ‘˜è¦</h2>
      <div class="page-content">
        <div style="max-width: 800px; margin: 0 auto;">
          <!-- åŠŸèƒ½è¯´æ˜ -->
          <p>è‡ªåŠ¨ç”Ÿæˆä¼šè®®çºªè¦ï¼Œæ”¯æŒéŸ³é¢‘ç›´æ¥è½¬å†™ä¸ºæ–‡å­—åç”Ÿæˆæ‘˜è¦</p>

          <!-- æ ¸å¿ƒåŠŸèƒ½åŒº -->
          <div style="background: #f0f8fb; padding: 20px; border-radius: 8px; margin: 15px 0;">
            <!-- ç¬¬ä¸€æ­¥ï¼šéŸ³é¢‘ä¸Šä¼  -->
            <div style="margin-bottom: 20px;">
              <label style="display: block; margin-bottom: 8px; font-weight: 500;">1. ä¸Šä¼ ä¼šè®®éŸ³é¢‘ï¼ˆæ”¯æŒmp3ã€wavã€m4aï¼‰</label>
              <input type="file" id="meetingAudioFile" accept="audio/*" style="padding: 8px; width: 100%; border: 1px solid #ddd; border-radius: 4px;">
              <p style="margin: 5px 0 0 0; font-size: 12px; color: #666;">å•ä¸ªæ–‡ä»¶ä¸è¶…è¿‡200MBï¼Œå»ºè®®éŸ³é¢‘æ—¶é•¿ä¸è¶…è¿‡120åˆ†é’Ÿ</p>
            </div>

            <!-- æ“ä½œæŒ‰é’® -->
            <div style="display: flex; gap: 10px; margin-bottom: 20px; flex-wrap: wrap;">
              <button id="startTranscribeBtn" style="padding: 10px 20px; background: #3498db; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px;">
                éŸ³é¢‘è½¬æ–‡å­—
              </button>
              <button id="generateSummaryBtn" style="padding: 10px 20px; background: #2ecc71; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px;">
                ç”Ÿæˆä¼šè®®æ‘˜è¦
              </button>
              <button id="clearAllBtn" style="padding: 10px 20px; background: #ecf0f1; color: #333; border: 1px solid #ddd; border-radius: 4px; cursor: pointer; font-size: 14px;">
                æ¸…ç©ºå†…å®¹
              </button>
            </div>

            <!-- è½¬å†™ç»“æœåŒºåŸŸ -->
            <div style="margin-bottom: 20px;">
              <label style="display: block; margin-bottom: 8px; font-weight: 500;">è½¬å†™ç»“æœï¼ˆå¯ç¼–è¾‘ï¼‰</label>
              <textarea id="transcribeResult" rows="8" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; resize: vertical; font-size: 14px; line-height: 1.5;" placeholder="éŸ³é¢‘è½¬å†™åçš„æ–‡å­—ä¼šæ˜¾ç¤ºåœ¨è¿™é‡Œ..."></textarea>
            </div>

            <!-- æ‘˜è¦ç»“æœåŒºåŸŸ -->
            <div>
              <label style="display: block; margin-bottom: 8px; font-weight: 500;">ä¼šè®®æ‘˜è¦</label>
              <textarea id="summaryResult" rows="6" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; resize: vertical; font-size: 14px; line-height: 1.5; background: #f8f9fa;" placeholder="ç”Ÿæˆçš„ä¼šè®®æ‘˜è¦ä¼šæ˜¾ç¤ºåœ¨è¿™é‡Œ..." readonly></textarea>

              <!-- å¯¼å‡ºæŒ‰é’® -->
              <div style="display: flex; gap: 10px; margin-top: 10px; justify-content: flex-end;">
                <button id="downloadTranscribeBtn" style="padding: 8px 16px; background: #95a5a6; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 13px;">
                  ä¸‹è½½è½¬å†™æ–‡æœ¬
                </button>
                <button id="downloadSummaryBtn" style="padding: 8px 16px; background: #e67e22; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 13px;">
                  ä¸‹è½½æ‘˜è¦æŠ¥å‘Š
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- æ™ºèƒ½ä»»åŠ¡åˆ†è§£ -->
    <div class="page" id="page-task_generater">
    <h2>ğŸ§© æ™ºèƒ½ä»»åŠ¡åˆ†è§£</h2>
    <div class="page-content">
        <div class="task-decomposition-container">
            <!-- ä»»åŠ¡è¾“å…¥è¡¨å• -->
            <div class="input-section">
                <h3>ä»»åŠ¡ä¿¡æ¯è¾“å…¥</h3>
                <form id="taskInputForm" class="task-form">
                    <div class="form-group">
                        <label for="taskType">ä»»åŠ¡ç±»å‹ *</label>
                        <select id="taskType" required>
                            <option value="">è¯·é€‰æ‹©ä»»åŠ¡ç±»å‹</option>
                            <option value="software">è½¯ä»¶å¼€å‘</option>
                            <option value="ppt">PPTåˆ¶ä½œ</option>
                            <option value="research">ç ”ç©¶é¡¹ç›®</option>
                            <option value="study">å­¦ä¹ ä»»åŠ¡</option>
                            <option value="management">é¡¹ç›®ç®¡ç†</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="background">é¡¹ç›®èƒŒæ™¯å’ŒåŠ¨æœº *</label>
                        <textarea id="background" rows="3" required placeholder="è¯·è¾“å…¥é¡¹ç›®èƒŒæ™¯ã€ç›®æ ‡å’ŒåŠ¨æœº..."></textarea>
                    </div>

                    <div class="form-group">
                        <label for="finalDeliverable">æœ€ç»ˆäº¤ä»˜æˆæœ *</label>
                        <textarea id="finalDeliverable" rows="3" required placeholder="è¯·è¾“å…¥æœ€ç»ˆè¦äº¤ä»˜çš„å…·ä½“æˆæœï¼Œå¦‚PPTã€æŠ¥å‘Šã€è½¯ä»¶ç­‰..."></textarea>
                    </div>

                    <div class="form-group">
                        <label for="timeLimit">é™å®šæ—¶é•¿ï¼ˆå¤©ï¼‰ *</label>
                        <input type="number" id="timeLimit" required min="1" max="365"
                               placeholder="è¯·è¾“å…¥ä»»åŠ¡é™å®šçš„å¤©æ•°">
                        <small class="date-hint">è¯·è¾“å…¥ä»»åŠ¡éœ€è¦åœ¨å¤šå°‘å¤©å†…å®Œæˆ</small>
                    </div>

                    <div class="form-group">
                        <label>è´¨é‡è¦æ±‚</label>
                        <div class="criteria-section">
                            <div class="criteria-group">
                                <label>å¿…é¡»æ»¡è¶³çš„è¦æ±‚</label>
                                <div id="mustHaveContainer" class="criteria-items">
                                    <div class="criteria-item">
                                        <input type="text" class="criteria-input" placeholder="ä¾‹å¦‚ï¼šå¿…é¡»ä½¿ç”¨Pythonå¼€å‘">
                                        <button type="button" class="add-criteria" onclick="addCriteria('mustHave')">+</button>
                                    </div>
                                </div>
                            </div>
                            <div class="criteria-group">
                                <label>å¯é€‰ä¼˜åŒ–</label>
                                <div id="niceToHaveContainer" class="criteria-items">
                                    <div class="criteria-item">
                                        <input type="text" class="criteria-input" placeholder="ä¾‹å¦‚ï¼šæ”¯æŒç§»åŠ¨ç«¯è®¿é—®">
                                        <button type="button" class="add-criteria" onclick="addCriteria('niceToHave')">+</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>çº¦æŸæ¡ä»¶</label>
                        <div class="constraints-section">
                            <div class="constraint-group">
                                <label>ç¦æ­¢äº‹é¡¹</label>
                                <div id="forbiddenContainer" class="constraint-items">
                                    <div class="constraint-item">
                                        <input type="text" class="constraint-input" placeholder="ä¾‹å¦‚ï¼šä¸èƒ½ä½¿ç”¨ä»˜è´¹è½¯ä»¶">
                                        <button type="button" class="add-constraint" onclick="addConstraint('forbidden')">+</button>
                                    </div>
                                </div>
                            </div>
                            <div class="constraint-group">
                                <label>å‰æå‡è®¾</label>
                                <div id="assumptionsContainer" class="constraint-items">
                                    <div class="constraint-item">
                                        <input type="text" class="constraint-input" placeholder="ä¾‹å¦‚ï¼šå‡è®¾å›¢é˜Ÿæˆå‘˜éƒ½ä¼šPython">
                                        <button type="button" class="add-constraint" onclick="addConstraint('assumptions')">+</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="button" id="generateTaskBtn" class="btn btn-primary">ç”Ÿæˆä»»åŠ¡åˆ†è§£</button>
                    </div>
                </form>
            </div>

            <!-- ç»“æœæ˜¾ç¤ºåŒºåŸŸ -->
            <div class="result-section">
                <h3>ä»»åŠ¡åˆ†è§£ç»“æœ</h3>
                <div id="taskResult" class="task-result" style="display: none;">
                    <div class="result-header">
                        <h4>AIç”Ÿæˆçš„ä»»åŠ¡åˆ—è¡¨</h4>
<!--                        <button type="button" id="matchTaskBtn" class="btn btn-secondary">æ™ºèƒ½æˆå‘˜åŒ¹é…</button>-->
                    </div>
                    <div id="taskCards" class="task-cards">
                        <!-- ä»»åŠ¡å¡ç‰‡å°†é€šè¿‡JSåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                </div>

                <div id="matchResult" class="match-result" style="display: none;">
                    <h4>æˆå‘˜åŒ¹é…ç»“æœ</h4>
                    <div id="matchCards" class="match-cards">
                        <!-- åŒ¹é…ç»“æœå¡ç‰‡å°†é€šè¿‡JSåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

    <!-- äº‹é¡¹çœ‹æ¿ -->
    <div class="page" id="page-todotask">
      <h2>ğŸ“ äº‹é¡¹çœ‹æ¿</h2>
      <div class="page-content">
        <div class="todo-wrapper">
          <!-- é¡¶éƒ¨ï¼šæ ‡é¢˜ + åˆ·æ–°æŒ‰é’® -->
          <div class="todo-header">
            <div>
              <h3>å›¢é˜Ÿå¾…åŠäº‹é¡¹</h3>
              <p class="todo-subtitle">æ ¹æ®å½“å‰ç™»å½•ç”¨æˆ·åŠ è½½ä»»åŠ¡</p>
            </div>
            <div class="todo-actions">
              <button type="button" id="btnRefreshTasks" class="btn-secondary">
                åˆ·æ–°ä»»åŠ¡
              </button>
            </div>
          </div>

          <!-- ä»»åŠ¡å¡ç‰‡å®¹å™¨ï¼ˆç§»åˆ°è¡¨å•ä¸Šæ–¹ï¼‰ -->
          <div id="taskBoard" class="task-board mb-6">
            <p class="task-empty">
              ç›®å‰è¿˜æ²¡æœ‰ä»»åŠ¡ï¼Œç‚¹å‡»ä¸Šæ–¹â€œåˆ·æ–°ä»»åŠ¡â€ä»åç«¯åŠ è½½æ•°æ®ï¼Œæˆ–è€…å…ˆæ·»åŠ ä¸€æ¡ä»»åŠ¡ã€‚
            </p>
          </div>

          <!-- æ·»åŠ ä»»åŠ¡è¡¨å• -->
          <form id="taskForm" class="task-form">
            <div class="task-form-row">
              <div class="task-form-field">
                <label for="taskTime">æ—¥æœŸ</label>
                <input type="date" id="taskTime" name="time" required />
              </div>
              <div class="task-form-field">
                <label for="taskPlace">åœ°ç‚¹</label>
                <input
                  type="text"
                  id="taskPlace"
                  name="place"
                  placeholder="ä¾‹å¦‚ï¼šå®éªŒå®¤A"
                />
              </div>
            </div>

            <div class="task-form-row">
              <div class="task-form-field">
                <label for="taskStaff">è´Ÿè´£äºº</label>
                <input
                  type="text"
                  id="taskStaff"
                  name="staff"
                  placeholder="ä¾‹å¦‚ï¼šå¼ ä¸‰"
                />
              </div>
              <div class="task-form-field">
                <label for="taskUrgency">ç´§æ€¥ç¨‹åº¦</label>
                <select id="taskUrgency" name="urgency">
                  <option value="1">ä¸€èˆ¬</option>
                  <option value="2">é‡è¦</option>
                  <option value="3">ç´§æ€¥</option>
                </select>
              </div>
            </div>

            <div class="task-form-row">
              <div class="task-form-field full">
                <label for="taskSomething">ä»»åŠ¡å†…å®¹</label>
                <textarea
                  id="taskSomething"
                  name="something"
                  rows="2"
                  placeholder="éœ€è¦å®Œæˆçš„äº‹é¡¹..."
                  required
                ></textarea>
              </div>
            </div>

            <div class="task-form-actions">
              <button type="submit" class="btn-primary">
                æ·»åŠ ä»»åŠ¡
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

  </div>


    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <script>
      // ç¡®ä¿DOMåŠ è½½å®Œæˆååˆå§‹åŒ–
      document.addEventListener('DOMContentLoaded', function() {
        if (window.AIChat) {
          window.AIChat.init();
        } else {
          console.error('AIChat module not loaded properly');
        }
      });
      // è·å–å½“å‰ç™»å½•ç”¨æˆ·çš„ userIdï¼ˆç™»å½•æ—¶å†™å…¥ localStorageï¼‰
      function getCurrentUserId() {
        return localStorage.getItem("userId");
      }
    </script>
    <script>
      document.addEventListener('DOMContentLoaded', function () {
        const teamName = localStorage.getItem('teamName');
        const displayEl = document.getElementById('teamNameDisplay');

        if (teamName) {
          displayEl.textContent = `å›¢é˜Ÿï¼š${teamName}`;
        } else {
          displayEl.textContent = 'æœªè®¾ç½®å›¢é˜Ÿåç§°';
        }
      });
    </script>
    <script>
    // ========== å·¦ä¾§å¯¼èˆªï¼šé¡µé¢åˆ‡æ¢é€»è¾‘ ==========
    document.addEventListener('DOMContentLoaded', function () {
      const navItems = document.querySelectorAll(".nav-links li");

      navItems.forEach(function (item) {
        item.addEventListener("click", function () {
          const pageId = this.getAttribute("data-page");

          // 1. ç§»é™¤æ‰€æœ‰ nav item çš„ active çŠ¶æ€ï¼ˆåŒ…æ‹¬è§†è§‰ç±»ï¼‰
          navItems.forEach(li => {
            li.classList.remove("active");
            li.classList.remove("bg-blue-50", "text-blue-600");
            li.classList.add("text-gray-700"); // æ¢å¤é»˜è®¤æ–‡å­—è‰²
          });

          // 2. ä¸ºä¸»å†…å®¹åŒºåˆ‡æ¢
          document.querySelectorAll(".page").forEach(p => p.classList.remove("active"));
          const targetPage = document.getElementById("page-" + pageId);
          if (targetPage) {
            targetPage.classList.add("active");
          }

          // 3. ä¸ºå½“å‰ç‚¹å‡»çš„ nav item æ·»åŠ æ¿€æ´»æ ·å¼
          this.classList.add("active");
          this.classList.remove("text-gray-700", "hover:bg-gray-100", "hover:text-blue-600");
          this.classList.add("bg-blue-50", "text-blue-600");

          // 4. ç‰¹æ®Šé€»è¾‘ï¼šäº‹é¡¹çœ‹æ¿è‡ªåŠ¨åˆ·æ–°
          if (pageId === "todotask") {
            if (typeof refreshTasks === 'function') {
              refreshTasks();
            }
          }
        });
      });
    });

    // é€€å‡ºç™»å½•
    function logout() {
      localStorage.removeItem("userId");
      localStorage.removeItem("teamName");
      window.location.href = "/"; // è·³å›ç™»å½•é¡µ
    }

    // é¡µé¢åŠ è½½æ—¶æ¢å¤ç”¨æˆ·ä¿¡æ¯ï¼ˆç”¨äºâ€œä¸ªäººä¸­å¿ƒâ€ï¼‰
    window.addEventListener("DOMContentLoaded", function () {
      var userId = localStorage.getItem("userId");
      var teamName = localStorage.getItem("teamName");

      // å¦‚æœä½ é¡µé¢é‡ŒçœŸçš„æœ‰å¯¹åº”å…ƒç´ ï¼Œå¯ä»¥è§£å¼€ä¸‹é¢çš„æ³¨é‡Šæ¥æ˜¾ç¤º
      // var userIdSpan = document.getElementById("displayUserId");
      // var teamNameSpan = document.getElementById("displayTeamName");

      if (userId && teamName) {
        // if (userIdSpan) userIdSpan.textContent = userId;
        // if (teamNameSpan) teamNameSpan.textContent = teamName;
      } else {
        // æœªç™»å½•åˆ™è·³è½¬å›é¦–é¡µ
        window.location.href = "/";
      }

      // åˆå§‹åŒ–äº‹é¡¹çœ‹æ¿çš„äº‹ä»¶ï¼ˆæŒ‰é’®ã€è¡¨å•ã€å¡ç‰‡åˆ é™¤ï¼‰
      initTodoTaskEvents();
    });


  </script>
    <!-- å¼•å…¥axioså’ŒAIèŠå¤©æ¨¡å—çš„JS -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="{{ url_for('static', filename='ai-chat.js') }}"></script>
    <script src="{{ url_for('static', filename='task_decomposition.js') }}"></script>
    <script src="{{ url_for('static', filename='meeting.js') }}"></script>
    <script src="{{ url_for('static', filename='todotask.js') }}"></script>
    <script src="{{ url_for('static', filename='team.js') }}"></script>


</body>
</html>

